{% comment %}
Reusable pagination component.

Required context:
- page_obj: Django paginator page object
- is_paginated: Boolean indicating if pagination is active
{% endcomment %}

{% if is_paginated %}
<div class="flex justify-center mt-8">
  <div class="join">
    {% if page_obj.has_previous %}
      <a href="?page=1{% for key, value in request.GET.items %}{% if key != 'page' %}&{{ key }}={{ value }}{% endif %}{% endfor %}"
         class="join-item btn btn-sm">«</a>
      <a href="?page={{ page_obj.previous_page_number }}{% for key, value in request.GET.items %}{% if key != 'page' %}&{{ key }}={{ value }}{% endif %}{% endfor %}"
         class="join-item btn btn-sm">‹</a>
    {% endif %}

    <button class="join-item btn btn-sm btn-active">
      Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}
    </button>

    {% if page_obj.has_next %}
      <a href="?page={{ page_obj.next_page_number }}{% for key, value in request.GET.items %}{% if key != 'page' %}&{{ key }}={{ value }}{% endif %}{% endfor %}"
         class="join-item btn btn-sm">›</a>
      <a href="?page={{ page_obj.paginator.num_pages }}{% for key, value in request.GET.items %}{% if key != 'page' %}&{{ key }}={{ value }}{% endif %}{% endfor %}"
         class="join-item btn btn-sm">»</a>
    {% endif %}
  </div>
</div>
{% endif %}
