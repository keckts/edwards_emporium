{% extends 'theme/base.html' %}
{% load static %}

{% block content %}
<div class="w-full px-4 py-8">

  <!-- Header -->
  <div class="flex flex-col md:flex-row items-center justify-between mb-8 gap-4">
    <div class="text-center md:text-left flex-1">
      <h1 class="text-4xl font-bold mb-2">{{ page_title }}</h1>
      {% if page_subtitle %}
        <p class="text-gray-500">{{ page_subtitle }}</p>
      {% endif %}
    </div>

    {% if create_url %}
      <a href="{{ create_url }}" class="btn btn-neutral">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
        </svg>
        {{ create_button_text|default:"Add New" }}
      </a>
    {% endif %}
  </div>

  <!-- Filters (if provided) -->
  {% if show_filters %}
    {% include "core/partials/search_filter.html" %}
  {% endif %}

  <!-- Items Grid/List -->
  {% block item_list %}
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
      {% for item in object_list %}
        {% block item_card %}
          <!-- Override this block in child templates -->
        {% endblock %}
      {% empty %}
        <div class="col-span-full">
          <div class="alert alert-info flex items-center gap-4">
            <svg class="w-8 h-8 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            <span>{{ empty_message|default:"No items found matching your criteria." }}</span>
          </div>
        </div>
      {% endfor %}
    </div>
  {% endblock %}

  <!-- Pagination -->
  {% include "core/partials/pagination.html" %}
</div>

{% block extra_scripts %}
  {% if filter_script %}
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    <script type="module" src="{% static filter_script %}"></script>
  {% endif %}
{% endblock %}
{% endblock %}
