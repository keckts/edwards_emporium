<!-- BLOCK 1-->
{% extends 'theme/base.html' %}
{% load static %}

{% block title %}{{ object.title }} - Antique Details{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8 max-w-7xl">
  <!-- Back Navigation -->
  <div class="mb-6">
    <a href="{% url 'antiques:antique-list' %}" class="btn btn-ghost btn-sm gap-2">
      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/>
      </svg>
      Back to Antiques
    </a>
  </div>

  <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
    <!-- Left Side - Image Gallery -->
    <div class="space-y-4">
      {% if object.images.exists %}
        <!-- Main Image with Carousel -->
        {% if object.images.count > 1 %}
        <div class="relative rounded-lg shadow-xl overflow-hidden bg-base-200" x-data="{ currentSlide: 0, totalSlides: {{ object.images.count }} }">
          <!-- Images Container -->
          <div class="relative aspect-square">
            {% for image in object.images.all %}
            <div
              x-show="currentSlide === {{ forloop.counter0 }}"
              x-transition:enter="transition ease-out duration-300"
              x-transition:enter-start="opacity-0 transform translate-x-full"
              x-transition:enter-end="opacity-100 transform translate-x-0"
              x-transition:leave="transition ease-in duration-300"
              x-transition:leave-start="opacity-100 transform translate-x-0"
              x-transition:leave-end="opacity-0 transform -translate-x-full"
              class="absolute inset-0"
              style="display: none;"
            >
              <img src="{{ image.image.url }}" class="w-full h-full object-cover" alt="{{ object.title }} - Image {{ forloop.counter }}" />
            </div>
            {% endfor %}

            <!-- Navigation Arrows -->
            <div class="absolute inset-0 flex items-center justify-between p-4">
              <button
                @click="currentSlide = currentSlide === 0 ? totalSlides - 1 : currentSlide - 1"
                class="btn btn-circle btn-sm bg-base-100/80 hover:bg-base-100 border-none shadow-lg"
              >
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
                </svg>
              </button>
              <button
                @click="currentSlide = currentSlide === totalSlides - 1 ? 0 : currentSlide + 1"
                class="btn btn-circle btn-sm bg-base-100/80 hover:bg-base-100 border-none shadow-lg"
              >
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                </svg>
              </button>
            </div>

            <!-- Slide Counter -->
            <div class="absolute bottom-4 right-4 bg-base-100/80 px-3 py-1 rounded-full text-sm font-medium">
              <span x-text="currentSlide + 1"></span> / <span x-text="totalSlides"></span>
            </div>
          </div>
        </div>

        <!-- Thumbnail Grid -->
        <div class="flex gap-2 overflow-x-auto pb-2" x-data="{ currentSlide: 0 }">
          {% for image in object.images.all %}
          <button
            @click="currentSlide = {{ forloop.counter0 }}"
            :class="currentSlide === {{ forloop.counter0 }} ? 'border-primary' : 'border-base-300'"
            class="flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 hover:border-primary transition-colors cursor-pointer"
          >
            <img src="{{ image.image.url }}" class="w-full h-full object-cover" alt="Thumbnail {{ forloop.counter }}" />
          </button>
          {% endfor %}
        </div>
        {% else %}
        <!-- Single Image -->
        <div class="rounded-lg shadow-xl overflow-hidden">
          <img src="{{ object.images.first.image.url }}" class="w-full object-cover aspect-square" alt="{{ object.title }}" />
        </div>
        {% endif %}
      {% else %}
        <!-- Placeholder -->
        <div class="rounded-lg shadow-xl bg-base-200 aspect-square flex items-center justify-center">
          <svg class="w-32 h-32 text-base-300" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z" clip-rule="evenodd"/>
          </svg>
        </div>
      {% endif %}
    </div>

    <!-- Right Side - Details -->
    <div class="space-y-6">
      <!-- Header -->
      <div>
        <div class="flex items-start justify-between gap-4 mb-3">
          <h1 class="text-4xl font-bold">{{ object.title }}</h1>
          {% if user.is_authenticated %}
          <div class="flex-shrink-0">
            {% include 'antiques/partials/wishlist_button.html' with antique=object in_wishlist=in_wishlist button_size='btn-md' %}
          </div>
          {% endif %}
        </div>

        <div class="flex flex-wrap gap-2 mb-4">
          <div class="badge badge-outline badge-lg gap-2">
            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"/>
            </svg>
            {{ object.type_of_antique }}
          </div>
          <div class="badge badge-ghost badge-lg gap-2">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
            </svg>
            Listed {{ object.created_at|date:"M j, Y" }}
          </div>
        </div>
      </div>

      <!-- Price and Status -->
      <div class="card bg-gradient-to-br from-primary to-secondary text-primary-content shadow-xl">
        <div class="card-body">
          <div class="flex items-center justify-between">
            <div>
              <h2 class="card-title  text-black text-4xl font-bold mb-1">${{ object.price }}</h2>
              <p class="text-sm text-black">Price per item</p>
            </div>
            <div class="text-right">
              {% if object.is_sold %}
              <div class="badge badge-error badge-lg gap-2">
                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"/>
                </svg>
                Sold Out
              </div>
              {% elif object.quantity <= 5 %}
              <div class="badge badge-warning badge-lg gap-2">
                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                </svg>
                Low Stock ({{ object.quantity }})
              </div>
              {% else %}
              <div class="badge badge-success badge-lg gap-2">
                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                </svg>
                In Stock ({{ object.quantity }})
              </div>
              {% endif %}
            </div>
          </div>
        </div>
      </div>

      <!-- Description -->
      {% if object.description %}
      <div class="card bg-base-200 shadow-lg">
        <div class="card-body">
          <h3 class="card-title text-xl mb-2">Description</h3>
          <p class="text-base-content/80 leading-relaxed">{{ object.description|linebreaks }}</p>
        </div>
      </div>
      {% endif %}

      <!-- Details Grid -->
      <div class="card bg-base-100 shadow-lg">
        <div class="card-body">
          <h3 class="card-title text-xl mb-4">Details</h3>
          <div class="grid grid-cols-2 gap-4">
            {% if object.dimensions %}
            <div class="space-y-1">
              <div class="text-sm text-base-content/60 flex items-center gap-2">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"/>
                </svg>
                Dimensions
              </div>
              <p class="font-medium">{{ object.dimensions }}</p>
            </div>
            {% endif %}

            <div class="space-y-1">
              <div class="text-sm text-base-content/60 flex items-center gap-2">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"/>
                </svg>
                Quantity
              </div>
              <p class="font-medium">{{ object.quantity }}</p>
            </div>

            <div class="space-y-1">
              <div class="text-sm text-base-content/60 flex items-center gap-2">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                </svg>
                Listed
              </div>
              <p class="font-medium">{{ object.created_at|date:"M d, Y" }}</p>
            </div>

            {% if object.updated_at != object.created_at %}
            <div class="space-y-1">
              <div class="text-sm text-base-content/60 flex items-center gap-2">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                </svg>
                Updated
              </div>
              <p class="font-medium">{{ object.updated_at|date:"M d, Y" }}</p>
            </div>
            {% endif %}
            <hr>

          <div class="detail-section seller-section">

        </div>
            
          </div>
        </div>
      </div>

      <!-- Content Section -->
      {% if object.content %}
      <div class="card bg-base-200 shadow-lg">
        <div class="card-body">
          <h3 class="card-title text-xl mb-2">Detailed Information</h3>
          <div class="prose max-w-none text-base-content/80">
            {{ object.content|linebreaks }}
          </div>
        </div>
      </div>
      {% endif %}

      <!-- Additional Info -->
      {% if object.additional_info %}
      <div class="card bg-base-200 shadow-lg">
        <div class="card-body">
          <h3 class="card-title text-xl mb-2 flex items-center gap-2">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            Additional Information
          </h3>
          <p class="text-base-content/80">{{ object.additional_info }}</p>
        </div>
      </div>
      {% endif %}

      <!-- Buy Now Button -->
      {% if user.is_authenticated %}
      <div class="card bg-base-100 shadow-lg">
        <div class="card-body">
          <h3 class="card-title text-xl mb-4">Purchase This Item</h3>
          <form action="{% url 'payments:buy_antique' object.slug %}" method="POST">
            {% csrf_token %}
            <button type="submit" class="btn btn-primary btn-lg w-full gap-2">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"/>
              </svg>
              Buy Now - ${{ object.price }}
            </button>
          </form>
          <p class="text-xs text-base-content/60 text-center mt-2">Secure checkout powered by Stripe</p>
        </div>
      </div>
      {% else %}
      <div class="alert alert-info">
        <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
        </svg>
        <span>Please <a href="{% url 'account_login' %}" class="link">log in</a> to purchase this item</span>
      </div>
      {% endif %}


      <!-- Seller Information -->
{% if object.seller %}
<div class="card bg-base-100 shadow-xl">
  <div class="card-body p-6">
    <h3 class="card-title text-2xl font-extrabold mb-5 border-b pb-3 border-base-200 flex items-center">
      <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
      </svg>
      Meet the Seller
    </h3>

    <div class="flex items-start gap-5">
      <div class="avatar {% if not object.seller.profile_picture %}placeholder{% endif %}">
        {% if object.seller.profile_picture %}
          <div class="w-20 h-20 rounded-full ring ring-primary ring-offset-base-100 ring-offset-2">
            <img src="{{ object.seller.profile_picture }}" alt="{{ object.seller.store_name }}'s profile picture" />
          </div>
        {% else %}
          <div class="bg-primary text-primary-content rounded-full w-20 h-20 flex items-center justify-center font-bold text-3xl shadow-md">
            <span>{{ object.seller.store_name|slice:":1"|upper }}</span>
          </div>
        {% endif %}
      </div>

      <div class="flex-1">
        {% if object.seller.store_name %}
          <h4 class="text-xl font-extrabold text-gray-800 dark:text-gray-100 mb-1">{{ object.seller.store_name }}</h4>
        {% endif %}


        {% if object.seller.is_verified %}
          <div class="badge badge-success badge-sm gap-1 mt-2">
            <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            Verified Seller
          </div>
        {% endif %}

        {% if object.seller.description %}
          <p class="text-sm text-base-content/70 mt-3 italic">{{ object.seller.description|truncatewords:20 }}</p>
        {% endif %}
      </div>
    </div>

    <div class="mt-5 pt-4 border-t border-base-200">
      <h5 class="text-lg font-semibold mb-3">Contact & Links</h5>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-3 text-sm">

        {% if object.seller.website %}
        <div class="flex items-center gap-2">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/></svg>
            <a href="{{ object.seller.website }}" target="_blank" rel="noopener noreferrer" class="link link-hover  font-medium">Website</a>
        </div>
        {% endif %}

        {% if object.seller.email %}
        <div class="flex items-center gap-2">
            <svg class="w-4 h-4 " fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/></svg>
            <a href="mailto:{{ object.seller.email }}" class="link link-hover ">{{ object.seller.email }}</a>
        </div>
        {% endif %}

        {% if object.seller.phone_number %}
        <div class="flex items-center gap-2">
            <svg class="w-4 h-4 " fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/></svg>
            <a href="tel:{{ object.seller.phone_number }}" class="link link-hover ">{{ object.seller.phone_number }}</a>
        </div>
        {% endif %}

        <div class="flex items-center gap-3 col-span-full mt-2">
            {% if object.seller.facebook %}
            <a href="https://facebook.com/{{ object.seller.facebook }}" target="_blank" rel="noopener noreferrer" class="text-base-content/70 hover:text-blue-600 transition duration-150">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.477 2 2 6.484 2 12.017v.983h4V12c0-3.313 2.687-6 6-6s6 2.687 6 6v1h4v-1c0-5.533-4.477-10.017-10-10.017zm-1.002 14.004h-2V11h2v5.004zm5.004 0h-2V11h2v5.004zm-3.003-7.002h-2v-2h2v2zm5.004 0h-2v-2h2v2zM22 17H2v2h20v-2z"/></svg>
            </a>
            {% endif %}

            {% if object.seller.twitter %}
            <a href="https://twitter.com/{{ object.seller.twitter }}" target="_blank" rel="noopener noreferrer" class="text-base-content/70 hover:text-sky-400 transition duration-150">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M18.901 1.171h3.633L14.407 9.87 23 22.822h-6.248l-5.116-6.685-6.657 6.685H.834l8.807-9.522L.15 1.171h6.326l4.238 5.617L18.901 1.171zM17.027 20.69L6.502 3.253h1.849l10.525 17.437h-1.849z"/></svg>
            </a>
            {% endif %}

            {% if object.seller.instagram %}
            <a href="https://instagram.com/{{ object.seller.instagram }}" target="_blank" rel="noopener noreferrer" class="text-base-content/70 hover:text-pink-600 transition duration-150">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm3.5 13.5a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm-7 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm-2.5-3.5a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm10 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm-5 5.5a1.5 1.5 0 110-3 1.5 1.5 0 010 3z"/></svg>
            </a>
            {% endif %}

            {% if object.seller.pinterest %}
            <a href="https://pinterest.com/{{ object.seller.pinterest }}" target="_blank" rel="noopener noreferrer" class="text-base-content/70 hover:text-red-700 transition duration-150">
              <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2zm1.685 14.864c-.38-.073-.787-.133-1.125-.19-.48-.083-.795-.083-1.275.02-.733.167-1.393.367-2.01.62-.057.02-.113.04-.17.06-.057.02-.113.04-.17.06.327-.587.653-1.2 1-1.78.347-.573.727-1.167 1.15-1.77.273-.393.527-.79.76-1.19.037-.057.073-.113.11-.17-.41-.353-.873-.667-1.36-.93-.453-.267-.927-.47-1.397-.61-.64-.19-1.307-.283-2.02-.27-.293.007-.573.04-.847.107-.12.03-.23.07-.333.113-.023.01-.05.02-.073.03l-.067.03c.513-1.293 1.457-2.313 2.83-3.053 1.253-.667 2.66-.96 4.167-.84.973.08 1.933.313 2.827.673 1.02.41 1.903 1.01 2.673 1.83.673.72 1.173 1.58 1.493 2.58.267.82.353 1.68.253 2.58-.107.82-.413 1.613-.933 2.373-.56.84-.717 1.41-1.2 2.33-.293.573-.61 1.13-.95 1.67-.17.293-.327.573-.46.82-.04.073-.08.14-.117.21l-.05.1c-.24-.093-.49-.18-.75-.26-.7-.213-1.427-.333-2.18-.353-.16-.007-.32-.007-.48 0zm-2.14-5.32c-.527.793-1.07 1.52-1.627 2.18-.313.373-.553.647-.72 1.253-.08.293-.113.58-.1.853.01.32.06.6.14.853.073.23.153.44.24.633-.12.18-.24.36-.36.54-.15.24-.31.473-.48.707.03-.02.06-.04.08-.06.273-.2.533-.373.78-.513.687-.387 1.447-.64 2.22-.727.66-.073 1.347.013 2.04.28.653.253 1.22.653 1.707 1.153.487.5.83 1.063 1.027 1.7.07.24.113.48.113.713.01.407-.083.79-.28 1.14-.073.12-.15.22-.24.31-.033.033-.067.06-.1.08-.06.04-.12.073-.18.107-.1.053-.2.1-.3.14-.38.153-.787.273-1.21.353-.19.037-.38.06-.57.06-.653.01-1.3-.1-1.933-.32-1.007-.34-1.897-.893-2.673-1.667-.547-.533-.94-1.13-1.18-1.833-.213-.6-.247-1.227-.1-1.873.14-.647.453-1.247.933-1.78.487-.533 1.053-.94 1.7-1.213.62-.253 1.287-.36 1.98-.34.34.007.673.053 1.007.12.3.06.6.133.893.22l.147.04c-.393.187-.773.41-1.13.673z"/></svg>
            </a>
            {% endif %}
        </div>

      </div>
    </div>

    {% if object.seller.user %}
    <div class="mt-5 pt-3 p-4 border-t border-base-200 text-center">
      <a href="{% url 'sellers:seller-dashboard' %}" class="btn btn-sm md:btn-md gap-2 shadow-lg">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
        </svg>
        View Full Seller Profile
      </a>
    </div>
    {% endif %}
  </div>
</div>
{% endif %}

      <!-- Admin Actions -->
      {% if request.user.is_superuser %}
      <div class="card bg-base-100 shadow-lg border-2 border-warning">
        <div class="card-body">
          <h3 class="card-title text-xl mb-4 flex items-center gap-2">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/>
            </svg>
            Admin Actions
          </h3>
          <div class="flex gap-2">
            <a
              href="{% url 'antiques:antique-update' object.slug %}"
              class="btn btn-neutral flex-1 gap-2"
            >
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
              </svg>
              Edit
            </a>
            <button
              hx-get="{% url 'antiques:antique-delete' object.slug %}"
              hx-target="body"
              hx-swap="beforeend"
              class="btn btn-error flex-1 gap-2 text-white"
            >
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/>
              </svg>
              Delete
            </button>
          </div>
        </div>
      </div>
      {% endif %}
    </div>
  </div>
</div>

<!-- HTMX for wishlist functionality -->
<script src="https://unpkg.com/htmx.org@1.9.10"></script>

{% endblock %}

